<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BENTO Admin</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
/* ===== EXISTING STYLES (–ù–ï –¢–†–û–ì–ê–õ) ===== */
:root{
  --bg:radial-gradient(circle at top,#1b1c29,#090a10);
  --glass:rgba(28,28,36,.72);
  --stroke:rgba(255,255,255,.08);
  --accent:#7a7cff;
  --accent-glow:0 0 40px rgba(122,124,255,.45);
  --text:#fff;
  --muted:#9aa0a6;
  --danger:#ff6b6b;
}

/* ... –≤–µ—Å—å —Ç–≤–æ–π CSS –≤—ã—à–µ –ë–ï–ó –ò–ó–ú–ï–ù–ï–ù–ò–ô ... */

/* ===================================================== */
/* ============ OWNER SHIELD (–î–û–ë–ê–í–õ–ï–ù–û) ================ */
/* ===================================================== */

.owner-shield{
  position:relative;
  display:inline-flex;
  align-items:center;
  gap:6px;
  margin-top:6px;
  padding:6px 12px;
  border-radius:999px;
  font-size:11px;
  font-weight:700;
  letter-spacing:.8px;
  color:#ffd966;
  background:linear-gradient(
    135deg,
    rgba(255,215,0,.25),
    rgba(255,180,0,.12)
  );
  box-shadow:
    0 0 20px rgba(255,215,0,.5),
    inset 0 0 12px rgba(255,215,0,.45);
  overflow:hidden;
}

/* –±–µ–≥—É—â–∏–π –±–ª–∏–∫ */
.owner-shield::before{
  content:"";
  position:absolute;
  inset:-40%;
  background:linear-gradient(
    120deg,
    transparent 40%,
    rgba(255,255,255,.45),
    transparent 60%
  );
  animation:shieldShine 2.8s linear infinite;
}

@keyframes shieldShine{
  from{transform:translateX(-100%)}
  to{transform:translateX(100%)}
}

.owner-shield svg{
  width:14px;
  height:14px;
  fill:#ffd966;
  filter:
    drop-shadow(0 0 6px rgba(255,215,0,.9))
    drop-shadow(0 0 16px rgba(255,215,0,.6));
}

/* —É—Å–∏–ª–µ–Ω–∏–µ owner –∫–∞—Ä—Ç–æ—á–∫–∏ */
.admin-card.owner{
  animation:ownerGlow 2.8s ease-in-out infinite alternate;
}

@keyframes ownerGlow{
  from{
    box-shadow:0 0 22px rgba(255,215,0,.35);
  }
  to{
    box-shadow:0 0 45px rgba(255,215,0,.75);
  }
}
</style>
</head>

<body>
<div id="app">‚è≥</div>

<script>
/* ===== –¢–í–û–ô JS ‚Äî –ù–ï –£–î–ê–õ–Ø–õ ===== */
const tg = Telegram.WebApp;
tg.expand();
const user = tg.initDataUnsafe.user;

/* ... –≤–µ—Å—å –∫–æ–¥ –≤—ã—à–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ... */

/* ===== ADMIN PANEL ‚Äî OWNER ONLY ===== */
async function adminPanel(){
  if(ROLE!=="owner") return;

  const {data,error}=await sb
    .from("admins")
    .select("*")
    .order("role",{ascending:false});

  if(error) return alert("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏");

  app.innerHTML=`
  <div class="card">
    <div class="back" onclick="menu()">‚Üê –ù–∞–∑–∞–¥</div>

    <div class="admin-list">
      ${data.map(a=>`
        <div class="admin-card ${a.role}">
          <div class="admin-left">
            <div class="admin-avatar">
              ${a.role==="owner" ? "üëë" : "A"}
            </div>
            <div class="admin-info">
              <div class="admin-id">ID ${a.id}</div>

              ${
                a.role==="owner"
                ? `<div class="owner-shield">
                     <svg viewBox="0 0 24 24">
                       <path d="M12 2l7 4v6c0 5-3.5 9.5-7 10-3.5-.5-7-5-7-10V6l7-4z"/>
                     </svg>
                     OWNER
                   </div>`
                : `<div class="admin-role">ADMIN</div>`
              }

              <div class="admin-pin">
                PIN ${String(a.pin).padStart(4,"0")}
              </div>
            </div>
          </div>

          <div class="admin-actions">
            ${
              a.role==="owner"
              ? `<span style="font-size:12px;color:var(--muted)">protected</span>`
              : `<button class="del-btn" onclick="delAdmin(${a.id})">‚ùå</button>`
            }
          </div>
        </div>
      `).join("")}
    </div>

    <button class="big-btn" onclick="addAdmin()">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∞</button>
  </div>`;
}

start();
</script>
</body>
</html>
